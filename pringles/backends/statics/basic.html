<div id="{{ unique_diagrammer_id }}" class="devs_diagrammer_wrapper">

  <link rel="stylesheet" href="{{ url_prefix }}/_static/css/style.css" />

  <script src="{{ url_prefix }}/_static/vendors/js/createjs/createjs-2013.12.12.min.js"></script>
  <script src="{{ url_prefix }}/_static/vendors/js/jquery-3.2.1/jquery-3.2.1.min.js"></script>
  <script src="{{ url_prefix }}/_static/js/ColorCodes.js"></script>
  <script src="{{ url_prefix }}/_static/js/main.js"></script>
  <script src="{{ url_prefix }}/_static/js/manifest.js"></script>
  <script src="{{ url_prefix }}/_static/js/toposort.js"></script>
  <script src="{{ url_prefix }}/_static/js/Square.js"></script>
  <script src="{{ url_prefix }}/_static/js/Port.js"></script>
  <script src="{{ url_prefix }}/_static/js/Link.js"></script>
  <script src="{{ url_prefix }}/_static/js/JSONModelGraphics.js"></script>
  <script src="{{ url_prefix }}/_static/js/Model.js"></script>
  <script src="{{ url_prefix }}/_static/js/Canvas.js"></script>

  <script type="text/javascript">
    var unique_diagrammer_id = '{{ unique_diagrammer_id }}'
    var modelAsJson = '{% raw model_source %}'
    $(document).ready(function () {
      console.info("About to start drawing model");
      menu_init();
      parse_query_params(modelAsJson);
    });
  </script>

  <!-- hiden button for export JSON -->
  <a id="download" style="display:none"></a>
  <!-- hiden button for export JSON -->
  <div id="devs_diagrammer">
    <div id='body-wrapper'>
      <div id="models-wrapper"></div>
      <div id="menu-wrapper">
        <button class="action bp3-button bp3-minimal" type="button" onclick="expand_in_new_canvas_selected();">Expand in new canvas</button>
        <button class="action bp3-button bp3-minimal" type="button" onclick="remove_selected_top_models();">Remove model</button>
        <button class="action bp3-button bp3-minimal" type="button" onclick="toggle_models_selected();">Expand / Contract</button>
        <button class="action bp3-button bp3-minimal" type="button" onclick="toggle_links_selected();">Show / Hide all links</button>
        <button class="action bp3-button bp3-minimal" type="button" onclick="show_submodel_links_selected();">Show / Hide model links</button>
        <button class="action bp3-button bp3-minimal" type="button" onclick="toggle_port_name_selected();">Show / Hide port names</button>
      </div>
    </div>
  </div>
</div>